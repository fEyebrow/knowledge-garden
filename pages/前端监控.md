-
- 采集
	- 脚本错误: 分语法错误和运行时错误
		- try-catch
		- 使用window.onerror捕获JS运行时错误
		- 使用window.addEventListener('unhandledrejection')捕获未处理的promise reject错误，
		- window.addEventListener('error')捕获资源加载错误。但它也能捕获js运行时错误，为避免重复上报js运行时错误，此时只有event.srcElement instanceof HTMLScriptElement或HTMLLinkElement或HTMLImageElement时才进行数据采集。
		- 当try-catch中代码发生语法错误或异步错误时，则无法正常捕捉。
	- 跨域资源Script error
		- script添加crossorgin属性，能得到详细错误
		- 添加Access-Control-Allow-Origin  的响应头
		- 响应中带上 `Vary:Origin`，使得缓存服务器按照origin来缓存。这样当Access-Control-Allow-Origin为*时，不会错误命中缓存。
	- 接口错误
- [ 前端监控体系及实现技术详解](https://juejin.cn/post/6936562262480158728#heading-4)